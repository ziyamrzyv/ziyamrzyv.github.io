<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>get.activated.win — Installer</title>
<link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;600&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#0b0d0e; --panel:#0e1112; --fg:#dfffe8; --muted:#9fb8a6; --accent:#00ff99;
  }
  html,body{height:100%;margin:0;background:linear-gradient(180deg,#071008 0%,var(--bg) 60%);color:var(--fg);font-family:'Fira Code',monospace;}
  .wrap{max-width:980px;margin:40px auto;padding:20px;}
  .card{background:linear-gradient(180deg,var(--panel),#0b0d0f);border:1px solid rgba(255,255,255,.03);border-radius:10px;padding:18px;box-shadow:0 10px 40px rgba(0,0,0,.6);}
  h1{margin:0 0 8px 0;color:var(--accent);font-size:28px}
  p{color:var(--muted);margin:8px 0 14px 0}
  pre.code {background:#071010;padding:12px;border-radius:8px;overflow:auto;border:1px dashed rgba(255,255,255,.03);}
  .btn{display:inline-block;padding:8px 12px;border-radius:8px;border:1px solid rgba(255,255,255,.06);background:transparent;color:var(--fg);cursor:pointer;margin-right:8px}
  .btn:hover{filter:brightness(1.08)}
  .muted{color:var(--muted);font-size:13px}
  .status{margin-top:12px;padding:10px;border-radius:8px;background:linear-gradient(180deg, rgba(0,0,0,.2), rgba(255,255,255,.005));border:1px solid rgba(255,255,255,.02)}
  .small{font-size:13px;color:var(--muted)}
  footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:center}
  .hash-ok{color:#7ef4a2}
  .hash-bad{color:#ff7a7a}
  @media(max-width:620px){ .wrap{margin:16px;padding:12px} h1{font-size:22px}}
</style>
</head>
<body>
  <div class="wrap card" role="main">
    <h1>get.activated.win — Installer hub</h1>
    <p class="small">This page provides the single-line PowerShell installer and integrity checks. The actual script file is served as plain text at <code id="rawUrl">https://get.activated.win/tools/ziya.ps1</code>.</p>

    <section style="margin-top:12px">
      <div style="font-weight:600;color:var(--accent)">Quick one-liner</div>
      <pre class="code" id="oneLiner">pwsh -ExecutionPolicy Bypass -Command "irm 'https://get.activated.win/tools/ziya.ps1' | iex"</pre>
      <div style="margin-top:8px">
        <button class="btn" id="copyBtn">Copy one-liner</button>
        <a class="btn" id="openRaw" href="https://get.activated.win/tools/ziya.ps1" target="_blank" rel="noopener">Open raw .ps1</a>
        <button class="btn" id="downloadBtn">Download .ps1</button>
      </div>
      <p class="muted" style="margin-top:8px">Tip: safer workflow — <strong>download</strong> the script, inspect it, then run it locally (see instructions below).</p>
    </section>

    <section style="margin-top:16px">
      <div style="font-weight:600;color:var(--accent)">Integrity (SHA-256)</div>
      <p class="small">We publish a known-good SHA-256 for the script. Click <em>Verify</em> to fetch the script and compute its hash in your browser.</p>
      <div style="display:flex;gap:8px;align-items:center">
        <input id="expectedHash" style="flex:1;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,.04);background:transparent;color:var(--fg)" placeholder="Enter expected SHA-256 (hex)" />
        <button class="btn" id="verifyBtn">Verify</button>
      </div>
      <div class="status" id="verifyStatus" aria-live="polite">No verification performed yet.</div>
    </section>

    <section style="margin-top:16px">
      <div style="font-weight:600;color:var(--accent)">Safer usage (recommended)</div>
      <ol class="small" style="margin:8px 0 0 18px">
        <li>Click <strong>Open raw</strong> and save the script to your machine.</li>
        <li>Open the file in an editor and review the content.</li>
        <li>Run locally: <code>powershell -ExecutionPolicy Bypass -File .\ziya.ps1</code> or use <code>pwsh -File .\ziya.ps1</code>.</li>
      </ol>
    </section>

    <section style="margin-top:16px">
      <div style="font-weight:600;color:var(--accent)">Troubleshooting & help</div>
      <p class="small">If the script doesn't start: check PowerShell version, execution policy, and antivirus. See <a href="https://massgrave.dev" target="_blank" rel="noopener" style="color:var(--accent)">massgrave.dev</a> or your project page.</p>
    </section>

    <footer>
      <div class="small">Hosted at <strong>get.activated.win</strong> — place your plain .ps1 file at <code>/tools/ziya.ps1</code></div>
    </footer>
  </div>

<script>
/* Utility: copy one-liner */
document.getElementById('copyBtn').addEventListener('click', async ()=>{
  const t = document.getElementById('oneLiner').textContent.trim();
  try { await navigator.clipboard.writeText(t); alert('Copied: ' + t); }
  catch(e){ prompt('Copy this line:', t); }
});

/* Download raw ps1 */
document.getElementById('downloadBtn').addEventListener('click', async ()=>{
  const url = document.getElementById('rawUrl').textContent.trim();
  window.open(url, '_blank');
});

/* Hash verification using SubtleCrypto */
async function sha256hex(str){
  const enc = new TextEncoder();
  const data = enc.encode(str);
  const hash = await crypto.subtle.digest('SHA-256', data);
  const a = Array.from(new Uint8Array(hash)).map(b => b.toString(16).padStart(2,'0')).join('').toUpperCase();
  return a;
}

document.getElementById('verifyBtn').addEventListener('click', async ()=>{
  const rawUrl = document.getElementById('rawUrl').textContent.trim();
  const expected = document.getElementById('expectedHash').value.trim().toUpperCase();
  const status = document.getElementById('verifyStatus');
  status.textContent = 'Fetching script...';
  try {
    const r = await fetch(rawUrl, {cache:'no-store'});
    if (!r.ok) throw new Error('Network response not OK: ' + r.status);
    const txt = await r.text();
    status.textContent = 'Computing SHA-256...';
    const got = await sha256hex(txt);
    if (!expected) {
      status.innerHTML = 'Computed SHA-256: <code style="color:var(--muted)">'+got+'</code> — provide expected hash above to compare.';
      return;
    }
    if (got === expected) {
      status.innerHTML = '<span class="hash-ok">✔ Hash matches: '+got+'</span>';
    } else {
      status.innerHTML = '<span class="hash-bad">✖ Hash mismatch!</span><div style="margin-top:8px"><strong>Computed:</strong> '+got+'</div><div style="margin-top:6px;color:var(--muted)"><strong>Expected:</strong> '+expected+'</div>';
    }
  } catch(err){
    status.innerHTML = '<span class="hash-bad">Fetch failed: '+err.message+'</span>';
  }
});
</script>
</body>
</html>
